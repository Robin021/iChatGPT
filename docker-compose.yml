version: "3.8"

networks:
  network:
    ipam:
      driver: default
      config:
        - subnet: '177.8.0.0/16'

services:
  frontend:
    image: westman/ichatgpt-frontend:latest
    ports:
      - "3000:3000"
    depends_on:
      - backend
    networks:
        network:
          ipv4_address: 177.8.0.10
  backend:
    image: westman/ichatgpt-backend:latest
    ports:
      - "5001:5001"
    networks:
        network:
          ipv4_address: 177.8.0.2
    env_file:
      - ./.env
